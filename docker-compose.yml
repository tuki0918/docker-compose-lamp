app:
  image: debian:jessie
  volumes:
    - ./src:/var/www/html
  tty: true
  container_name: test-app

php:
  build: ./docker/php
  ports:
    - "80:80"
    - "443:443"
  volumes_from:
    - app
  links:
    - mysql
  container_name: test-web

mysql:
  image: mysql:5.7
  ports:
    - ":3306"
  volumes:
    - ./docker/mysql/conf.d:/etc/mysql/conf.d
  volumes_from:
    - app
  environment:
    MYSQL_USER: user
    MYSQL_PASSWORD: pass
    MYSQL_ROOT_PASSWORD: secret
    MYSQL_DATABASE: myapp
  container_name: test-db